<!doctype html><html lang=en data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://roll20.github.io/beacon-docs/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://roll20.github.io/beacon-docs/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://roll20.github.io/beacon-docs/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/beacon-docs/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg="></script><link rel=stylesheet href="/beacon-docs/main.f93298bbfac28aad707e0176e283a289a6f111a0a8be8dc661d9c822e77de2ce0347e2155b3a776a5cc75d62eaab4598db045a20dc59bbe57890e0b7bc072c78.css" integrity="sha512-+TKYu/rCiq1wfgF24oOiiabxEaCovo3GYdnIIud94s4DR+IVWzp3alzHXWLqq0WY2wRaINxZu+V4kOC3vAcseA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><base href=https://roll20.github.io/beacon-docs/docs/components/handlers/><link rel=canonical href=https://roll20.github.io/beacon-docs/docs/components/handlers/><title>Handlers | Beacon SDK</title>
<meta name=description content="Congrats on setting up a new Doks project!"><link rel=icon href=/beacon-docs/favicon.ico sizes=32x32><link rel=icon href=/beacon-docs/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/beacon-docs/beacon-docs/apple-touch-icon.png sizes=180x180 type=image/png><link rel=icon href=/beacon-docs/favicon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/beacon-docs/favicon-512x512.png sizes=512x512 type=image/png><link rel=manifest href=/beacon-docs/manifest.webmanifest><meta property="og:title" content="Handlers"><meta property="og:description" content="Handler methods allow the sheet to respond to data passed from the Roll20 Tabletop or Roll20 Characters (both refered to as host throughout this page) to the sheet."><meta property="og:type" content="article"><meta property="og:url" content="https://roll20.github.io/beacon-docs/docs/components/handlers/"><meta property="og:image" content="https://roll20.github.io/beacon-docs/cover.png"><meta property="article:section" content="docs"><meta property="article:published_time" content="2024-03-07T16:12:37+02:00"><meta property="article:modified_time" content="2023-09-07T16:12:37+02:00"><meta property="og:site_name" content="Beacon SDK"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://roll20.github.io/beacon-docs/cover.png"><meta name=twitter:title content="Handlers"><meta name=twitter:description content="Handler methods allow the sheet to respond to data passed from the Roll20 Tabletop or Roll20 Characters (both refered to as host throughout this page) to the sheet."><meta name=twitter:site content="@getdoks"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://roll20.github.io/beacon-docs/","name":"Welcome to Beacon Sdk","position":1},{"@type":"ListItem","item":"https://roll20.github.io/beacon-docs/docs/","name":"Docs","position":2},{"@type":"ListItem","item":"https://roll20.github.io/beacon-docs/docs/components/","name":"Components","position":3},{"@type":"ListItem","name":"Handlers","position":4}]}</script></head><body class="single section docs" data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><div class=sticky-top><header class="navbar navbar-expand-lg"><div class=container-lg><a class="navbar-brand me-auto me-lg-3" href=/beacon-docs/>Beacon SDK</a>
<button class="btn btn-link d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavSection aria-controls=offcanvasNavSection aria-label="Open section navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 5m-1 0a1 1 0 102 0 1 1 0 10-2 0"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasNavSection aria-labelledby=offcanvasNavSectionLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavSectionLabel>Docs</h5><button type=button class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><nav class="section-nav docs-links"><ul class=list-unstyled><li><details open><summary>Getting Started</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/gettingstarted/introduction/>Introduction</a></li><li><a href=/beacon-docs/docs/gettingstarted/installing-beacon/>Installing Beacon</a></li><li><a href=/beacon-docs/docs/gettingstarted/quick-start-sheet-template/>Quick Start Sheet Template</a></li><li><a href=/beacon-docs/docs/gettingstarted/example-patterns-sheet/>Example Patterns Sheet</a></li><li><a href=/beacon-docs/docs/gettingstarted/releasing-a-sheet/>Releasing a Sheet</a></li></ul></details></li><li><details open><summary>Components</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/components/initrelay/>InitRelay</a></li><li><a href=/beacon-docs/docs/components/actions/>Actions</a></li><li><a href=/beacon-docs/docs/components/computed/>Computed</a></li><li class=active><a aria-current=page href=/beacon-docs/docs/components/handlers/>Handlers</a></li><li><a href=/beacon-docs/docs/components/handling-legacy-macro-attributes/>Handling Legacy Macro Attributes</a></li><li><a href=/beacon-docs/docs/components/rolls/>Rolls</a></li><li><a href=/beacon-docs/docs/components/dispatch/>Dispatch</a></li></ul></details></li><li><details><summary>About</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/about/glossary/>Glossary</a></li><li><a href=/beacon-docs/docs/about/faq/>FAQ</a></li><li><a href=/beacon-docs/docs/about/changelog/>Changelog</a></li><li><a href=/beacon-docs/docs/about/how-to-contribute/>How to Contribute</a></li></ul></details></li></ul></nav></nav></aside></div></div><button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavMain aria-controls=offcanvasNavMain aria-label="Open main navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><div class="offcanvas offcanvas-end h-auto" tabindex=-1 id=offcanvasNavMain aria-labelledby=offcanvasNavMainLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavMainLabel>Beacon SDK</h5><button type=button class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between"><ul class="navbar-nav flex-grow-1"><li class=nav-item><a class="nav-link active" href=https://roll20.github.io/beacon-docs/docs/gettingstarted/introduction aria-current=true>Docs</a></li></ul><button id=buttonColorMode class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type=button aria-label="Toggle theme"><svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg><svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg></button><ul id=socialMenu class="nav mx-auto flex-row order-lg-4"><li class=nav-item><a class="nav-link social-link" href=https://github.com/Roll20/beacon-docs><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg><small class="ms-2 visually-hidden">GitHub</small></a></li></ul><a class="btn btn-primary rounded-pill mt-2 btn-block d-lg-none" href=https://roll20.github.io/beacon-docs/docs/gettingstarted/introduction/ role=button>Get started</a></div></div><a class="btn btn-primary rounded-pill ms-3 me-2 px-4 order-lg-3 d-none d-lg-block" href=https://roll20.github.io/beacon-docs/docs/gettingstarted/introduction/ role=button>Get started</a></div></header></div><div class="wrap container-lg" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class="section-nav docs-links"><ul class=list-unstyled><li><details open><summary>Getting Started</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/gettingstarted/introduction/>Introduction</a></li><li><a href=/beacon-docs/docs/gettingstarted/installing-beacon/>Installing Beacon</a></li><li><a href=/beacon-docs/docs/gettingstarted/quick-start-sheet-template/>Quick Start Sheet Template</a></li><li><a href=/beacon-docs/docs/gettingstarted/example-patterns-sheet/>Example Patterns Sheet</a></li><li><a href=/beacon-docs/docs/gettingstarted/releasing-a-sheet/>Releasing a Sheet</a></li></ul></details></li><li><details open><summary>Components</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/components/initrelay/>InitRelay</a></li><li><a href=/beacon-docs/docs/components/actions/>Actions</a></li><li><a href=/beacon-docs/docs/components/computed/>Computed</a></li><li class=active><a aria-current=page href=/beacon-docs/docs/components/handlers/>Handlers</a></li><li><a href=/beacon-docs/docs/components/handling-legacy-macro-attributes/>Handling Legacy Macro Attributes</a></li><li><a href=/beacon-docs/docs/components/rolls/>Rolls</a></li><li><a href=/beacon-docs/docs/components/dispatch/>Dispatch</a></li></ul></details></li><li><details><summary>About</summary><ul class="list-unstyled list-nested"><li><a href=/beacon-docs/docs/about/glossary/>Glossary</a></li><li><a href=/beacon-docs/docs/about/faq/>FAQ</a></li><li><a href=/beacon-docs/docs/about/changelog/>Changelog</a></li><li><a href=/beacon-docs/docs/about/how-to-contribute/>How to Contribute</a></li></ul></details></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=toc><ul><li><a href=#oninit>onInit</a></li><li><a href=#onchange>onChange</a></li><li><a href=#onsettingschange>onSettingsChange</a></li><li><a href=#onsharedsettingschange>onSharedSettingsChange</a></li><li><a href=#ontranslationsrequest>onTranslationsRequest</a></li><li><a href=#ondragover-optional>onDragOver (optional)</a></li><li><a href=#ondropover-optional>onDropOver (optional)</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/beacon-docs/>Home</a></li><li class=breadcrumb-item><a href=/beacon-docs/docs/>Docs</a></li><li class=breadcrumb-item><a href=/beacon-docs/docs/components/>Components</a></li><li class="breadcrumb-item active" aria-current=page>Handlers</li></ol></nav><h1>Handlers</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#oninit>onInit</a></li><li><a href=#onchange>onChange</a></li><li><a href=#onsettingschange>onSettingsChange</a></li><li><a href=#onsharedsettingschange>onSharedSettingsChange</a></li><li><a href=#ontranslationsrequest>onTranslationsRequest</a></li><li><a href=#ondragover-optional>onDragOver (optional)</a></li><li><a href=#ondropover-optional>onDropOver (optional)</a></li></ul></nav></div></details></nav><p>Handler methods allow the sheet to respond to data passed from the Roll20 Tabletop or Roll20 Characters (both refered to as host throughout this page) to the sheet. It is the main agrument that must be passed into <code>initRelay</code> or the sheet will never fully load.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>initRelay</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>handlers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>onInit</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>onChange</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>onSettingsChange</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>onSharedSettingsChange</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>onTranslationsRequest</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>onDragOver</span><span class=p>,</span> <span class=c1>// optional
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>onDropOver</span><span class=p>,</span> <span class=c1>// optional
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>//...other methods
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})</span><span class=o>:</span> <span class=nx>Promise</span><span class=p>&lt;</span><span class=nt>Dispatch</span><span class=p>&gt;</span></span></span></code></pre></div></figure></div><h2 id=oninit>onInit<a href=#oninit class=anchor aria-hidden=true>#</a></h2><p>The <code>onInit</code> method receives the initial data from the host.</p><p>This will be the first time we have access to character data, sheet settings, as well as compendium data if this character is made as a result of a compendium drag and drop on the host.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onInit</span><span class=p>(</span><span class=nx>event</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>character</span>: <span class=kt>Character</span><span class=p>,</span> <span class=c1>// Initial Data of the primary character for this sheet.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>settings</span><span class=o>:</span> <span class=p>{</span> <span class=c1>// Campaign and character specific settings
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>colorTheme</span>: <span class=kt>string</span><span class=p>,</span> <span class=c1>// &#39;dark&#39; or &#39;light&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>language</span>: <span class=kt>string</span><span class=p>,</span> <span class=c1>// two-letter language code, i.e. &#39;en&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>gm</span>: <span class=kt>boolean</span><span class=p>,</span> <span class=c1>// whether or not the current player has gm permissions
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>owned</span>: <span class=kt>boolean</span><span class=p>,</span> <span class=c1>// whether or not the current player controls the primary character
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>settingsSheet</span>: <span class=kt>boolean</span><span class=p>,</span> <span class=c1>// whether or not this sheet is the settings sheet
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>headless</span>: <span class=kt>boolean</span><span class=p>,</span> <span class=c1>// whether or not it should be displayed, set by the host
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>sandbox</span>: <span class=kt>boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>campaignId</span>: <span class=kt>number</span><span class=p>,</span> <span class=c1>// The id of the current campaign
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>environment</span>: <span class=kt>string</span><span class=p>,</span> <span class=c1>// VTT, CHARACTERS, DISCORD
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>currentUserId</span>: <span class=kt>string</span><span class=p>,</span> <span class=c1>// user id of user opening the sheet
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>singleSheet</span>: <span class=kt>boolean</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>sharedSettings</span><span class=o>:</span> <span class=p>{},</span> <span class=c1>// Data shared between all characters in this campaign
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>compendiumDropData</span><span class=o>:</span> <span class=p>{</span> <span class=c1>//  Populated when the character sheet is created from a compendium entry such as a creature or NPC.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>pageName</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>categoryName</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>expansion</span>: <span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=nx>dispatch</span>: <span class=kt>Dispatch</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span></span></span></code></pre></div></figure></div><div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3"><div class=callout-content><div class=callout-body><p>This function may be called multiple times during development in the sheet sandbox as part of hot reloads.</p></div></div></div><h2 id=onchange>onChange<a href=#onchange class=anchor aria-hidden=true>#</a></h2><p><code>onChange</code> is called whenever a character’s data is changed on the host’s end. The event object contains a partial character with only the character’s ID and the changed data. This could be the character’s bio, GM notes, or attributes (only the changed attributes).</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onChange</span><span class=p>(</span><span class=nx>e</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>character</span>: <span class=kt>Partial</span><span class=p>&lt;</span><span class=nt>Character</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=nx>dispatch</span>: <span class=kt>Dispatch</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span></span></span></code></pre></div></figure></div><h2 id=onsettingschange>onSettingsChange<a href=#onsettingschange class=anchor aria-hidden=true>#</a></h2><p><code>onSettingsChange</code> is called when either the host’s color theme is changed, or when the current player’s ownership of the primary character changes.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onSettingsChange</span><span class=p>(</span><span class=nx>e</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>colorTheme</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=nx>owned</span>: <span class=kt>boolean</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=nx>dispatch</span>: <span class=kt>Dispatch</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span></span></span></code></pre></div></figure></div><h2 id=onsharedsettingschange>onSharedSettingsChange<a href=#onsharedsettingschange class=anchor aria-hidden=true>#</a></h2><p><code>onSharedSettingsChange</code> is called when someone changes a shared setting in the host.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onSharedSettingsChange</span><span class=p>({</span> <span class=nx>settings</span><span class=o>:</span> <span class=p>{</span> <span class=p>[</span><span class=nx>key</span>: <span class=kt>string</span><span class=p>]</span><span class=o>:</span> <span class=kt>any</span> <span class=p>}</span> <span class=p>})</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span></span></span></code></pre></div></figure></div><h2 id=ontranslationsrequest>onTranslationsRequest<a href=#ontranslationsrequest class=anchor aria-hidden=true>#</a></h2><p><code>onTranslationsRequest</code> is called before the relay is fully initialized and returns the translation JSON data corresponding to the two-letter language argument.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onTranslationsRequest</span><span class=p>(</span><span class=nx>language</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=p>{</span> <span class=p>[</span><span class=nx>key</span>: <span class=kt>string</span><span class=p>]</span><span class=o>:</span> <span class=kt>string</span> <span class=p>};</span></span></span></code></pre></div></figure></div><h2 id=ondragover-optional>onDragOver (optional)<a href=#ondragover-optional class=anchor aria-hidden=true>#</a></h2><p><code>onDragOver</code> is called when a compendium item from the compendium tab is dragged over the iframe window containing the character sheet.</p><p>Coordinates of the drag are provided via top and left values, and basic compendium data is passed so that a subsequent compendium request can be made via the provided dispatch. If the item is moved outside of the iframe, <code>dragData</code> and <code>coordinates</code> are null.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onDragOver</span><span class=p>(</span><span class=nx>e</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>coordinates</span><span class=o>:</span> <span class=p>{</span> <span class=nx>top</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>left</span>: <span class=kt>number</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>dragData</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=nx>pageName</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>categoryName</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>expansionId</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=o>|</span> <span class=kc>null</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=nx>dispatch</span>: <span class=kt>Dispatch</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=k>void</span></span></span></code></pre></div></figure></div><h2 id=ondropover-optional>onDropOver (optional)<a href=#ondropover-optional class=anchor aria-hidden=true>#</a></h2><p><code>onDropOver</code> is called when a compendium item from the compendium tab is dropped over the iframe window containing the character sheet.</p><p>Coordinates of the drop are provided via top and left values, and basic compendium data is passed so that a subsequent compendium request can be made via the provided dispatch.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>onDropOver</span><span class=p>(</span><span class=nx>e</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>coordinates</span><span class=o>:</span> <span class=p>{</span> <span class=nx>top</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>left</span>: <span class=kt>number</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>dropData</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=nx>pageName</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>categoryName</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>    <span class=nx>expansionId</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=nx>dispatch</span>: <span class=kt>Dispatch</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=k>void</span></span></span></code></pre></div></figure></div><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=/beacon-docs/docs/components/computed/ class="stretched-link text-reset text-decoration-none">Computed</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=/beacon-docs/docs/components/handling-legacy-macro-attributes/ class="stretched-link text-reset text-decoration-none">Handling Legacy Macro Attributes</a></div><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div><footer class="footer text-muted"><div class=container-lg><div class=row><div class="col-lg-8 text-center text-lg-start"><ul class=list-inline><li class=list-inline-item><a class=text-muted href=/beacon-docs/privacy/>Privacy Policy</a></li></ul></div><div class="col-lg-8 text-center text-lg-end"><ul class=list-inline><li class=list-inline-item>Brought to you by <a class=text-muted href=https://gethyas.com/>Hyas</a></li></ul></div></div></div></footer><script async src=/beacon-docs/js/app.47b84f3b640408af6efe7bf4add1a36f5b9c6227fbae7b8bcdf0c9ce42fefc54.js integrity="sha256-R7hPO2QECK9u/nv0rdGjb1ucYif7rnuLzfDJzkL+/FQ="></script><div class="d-inline-flex fixed-bottom-right pb-4 pe-4"><button id=toTop type=button class="btn btn-primary rounded-circle ms-auto p-2"><span class=visually-hidden>Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15l6-6 6 6"/></svg></button></div></body></html>
